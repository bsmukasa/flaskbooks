{% extends "base.html" %}

{% block title %}
{{ user.name_or_email }}
{% endblock %}

{% block head %}
{{ super() }}
{% endblock %}

{% block content %}

<div class="row subtitle">
  <div class="col-10">
    {% if user.picture_url %}
    <img class="rounded-circle profile-picture" src="{{ user.picture_url }}" alt="{{ user.name_or_email }}">
    {% endif %}
    <h1>{{ user.name_or_email }}</h1>
    {% if user.email %}
    <a href="mailto:{{user.email}}">{{ user.email }}</a>
    {% endif %}
    <p>Member since {{ user.date_joined.date() }}</p>
  </div>
</div>

{% if user.genres|length > 0 %}
<h2>Genres</h2>
<ul class="list-unstyled">
  {% for g in user.genres %}
  <li>
    <a href="{{ url_for('genre', genre_id=g.id) }}">{{ g.name }}</a>
  </li>
  {% endfor %}
</ul>
{% endif %}

{% if user.books|length > 0 %}
<h2>Books</h2>
<ul class="list-unstyled">
  {% for b in user.books %}
  <a href="{{ url_for('book', book_id=b.id) }}"><img class="book-img rounded" src="{{ b.cover_or_placeholder_url }}" alt="{{ b.name }}"></a>
  {% endfor %}
</ul>
{% endif %}

{% if user.likes|length > 0 %}
<h2>Liked Books</h2>
<ul class="list-unstyled">
  {% for l in user.likes %}
  <a href="{{ url_for('book', book_id=l.book_id) }}"><img class="like-img rounded" src="{{ l.book.cover_or_placeholder_url }}" alt="{{ l.book.name }}"></a>
  {% endfor %}
</ul>
{% endif %}



{% endblock %}
